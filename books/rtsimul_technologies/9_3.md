[9.2 <--- ](9_2.md) [   Зміст   ](README.md) [--> 9.4](9_4.md)

## 9.3. MODEL-BASED DESIGN USING REAL-TIME SIMULATION

This section explains how the model-based design methodology and real-time simulation technology are used together in the industrial development process.

У цьому розділі пояснюється, як методологія проектування на основі моделі та технологія моделювання в реальному часі використовуються разом у процесі промислового розвитку.

### 9.3.1 Model-Based Design

Model-based design (MBD) is a mathematical and graphical method of addressing problems associated with the design of complex systems [30]. MBD is a methodology based on a workflow known as the “V” diagram, as illustrated in [Figure 9.6 ](#_bookmark55)[21].

Модельно-орієнтоване проектування (MBD) — математичний і графічний метод вирішення проблем, пов’язаних із проектуванням складних систем [30]. MBD — це методологія, заснована на робочому процесі, відомому як «V» діаграма, як показано на [Рис. 9.6 ](#_bookmark55)[21].

![image-20220822180345966](media/image-20220822180345966.png)

**FIGURE 9.6** Model-based design workflow.

It allows multiple engineers involved in a design and modeling project to use models to communicate knowledge of the system under development in an efficient and organized manner [31]. Four basic steps are necessary in the process: (1) build the plant model, (2) analyze the plant model and synthesize a controller for it, (3) simulate the combination of plant and controller, and (4) deploy the controller.

Це дозволяє багатьом інженерам, які беруть участь у проекті проектування та моделювання, використовувати моделі для передачі знань про систему, що розробляється, ефективним та організованим способом [31]. У процесі необхідні чотири основні кроки: (1) створити модель заводу, (2) проаналізувати модель заводу та синтезувати контролер для нього, (3) змоделювати комбінацію заводу та контролера та (4) розгорнути контролер.

MBD offers many advantages. By using models, it provides a common design environment available to every engineer involved in creating a system from beginning to end. Indeed, the use of a common set of tools facilitates communication and data exchange. Reusing older designs is also easier since the design environment can remain homogeneous through different projects. In addition to MBD, graphical modeling tools, such as the SimPowerSystems™ for Simulink™ from MathWorks™ [32], simplify the design task by reducing the complexity of models through the use of a hierarchical approach. Modeling techniques have also been used to embed independent coded models inside the power systems simulation tool PSCAD/ EMTDC [33].

MBD пропонує багато переваг. Використовуючи моделі, він забезпечує загальне середовище проектування, доступне кожному інженеру, який бере участь у створенні системи від початку до кінця. Дійсно, використання спільного набору інструментів полегшує спілкування та обмін даними. Повторне використання старих дизайнів також легше, оскільки середовище дизайну може залишатися однорідним у різних проектах. На додаток до MBD, інструменти графічного моделювання, такі як SimPowerSystems™ for Simulink™ від MathWorks™ [32], спрощують завдання проектування, зменшуючи складність моделей завдяки використанню ієрархічного підходу. Методи моделювання також використовувалися для вбудовування незалежних закодованих моделей у інструмент симуляції енергетичних систем PSCAD/EMTDC [33].

Most commercial simulation tools provide an automatic code generator that facilitates the transition from controller model to controller implementation. The added value of real-time simulation in MBD emerges from the use of an automatic code generator [34,35]. By using an automatic code generator with a real-time simulator, an RCP can be implemented from a model with minimal effort. The prototype can then be used to accelerate integration and verification testing, something that cannot be done using offline simulation. HIL testing also offers a number of interesting possibilities. The HIL process, which is the reverse of the RCP methodology, involves implementing a plant model in a real-time simulator and connecting it to a physical controller or controller prototype. By using an HIL test bench, test engineers become part of the design workflow earlier in the process, sometimes before an actual plant becomes available. For example, by using the HIL methodology, automotive test engineers can start early testing of an automobile controller before a physical test bench is available.

Більшість комерційних засобів моделювання забезпечують автоматичний генератор коду, який полегшує перехід від моделі контролера до реалізації контролера. Додаткова цінність моделювання в реальному часі в MBD виникає завдяки використанню автоматичного генератора коду [34,35]. Використовуючи автоматичний генератор коду з симулятором реального часу, RCP можна реалізувати з моделі з мінімальними зусиллями. Потім прототип можна використовувати для прискорення інтеграційного та верифікаційного тестування, чого неможливо зробити за допомогою автономного моделювання. Тестування HIL також пропонує низку цікавих можливостей. Процес HIL, який є протилежністю методології RCP, передбачає реалізацію моделі заводу в симуляторі реального часу та підключення її до фізичного контролера або прототипу контролера. Використовуючи випробувальний стенд HIL, інженери-випробувачі стають частиною робочого процесу проектування на ранніх стадіях процесу, іноді до того, як фактична установка стане доступною. Наприклад, використовуючи методологію HIL, інженери-випробувачі автомобілів можуть розпочати раннє тестування автомобільного контролера до того, як буде доступний фізичний випробувальний стенд.

Combining RCP and HIL while using the MBD approach has many advantages:

•   Design issues can be discovered earlier in the process, enabling required trade-offs to be determined and applied, thereby reducing development costs.

•   Development cycle duration is reduced because of parallelization in the workflow.

•   Testing cost can be reduced in the mediumto long-term, since HIL test setups often cost less than the physical setups and the real-time simulator used can be typically used for multiple applications and projects.

•   Testing results are more repeatable since real-time simulators evidence less variability because the dynamics do not change through time the way physical systems do.

•   Tests that are too risky or expensive to perform using physical test benches become possible.

Поєднання RCP і HIL при використанні підходу MBD має багато переваг:

• Проблеми проектування можна виявити на ранніх стадіях процесу, дозволяючи визначити та застосувати необхідні компроміси, тим самим зменшуючи витрати на розробку.

• Тривалість циклу розробки зменшується через розпаралелювання робочого процесу.

• Витрати на тестування можна зменшити в середньостроковій та довгостроковій перспективі, оскільки налаштування тестування HIL часто коштують дешевше, ніж фізичні налаштування, а використовуваний симулятор у реальному часі зазвичай можна використовувати для кількох програм і проектів.

• Результати тестування більш повторювані, оскільки симулятори в реальному часі свідчать про меншу мінливість, оскільки динаміка не змінюється з часом, як це роблять фізичні системи.

• Стають можливими тести, які є занадто ризикованими або дорогими для виконання за допомогою фізичних тестових стендів.

### 9.3.2 Interact ion with the Model

Figure 9.7 illustrates the key advantage of real-time simulation: model interaction. These interactions can be (1) with a system user, (2) with physical equipment, or (3)   with both at the same time.

Рисунок 9.7 ілюструє ключову перевагу моделювання в реальному часі: взаємодія моделі. Ці взаємодії можуть бути (1) з користувачем системи, (2) з фізичним обладнанням або (3) з обома одночасно.

It is important to note that a model executed on a real-time simulator can be modified online, which is not possible with a physical plant. Any parameter of the model can be read and updated continuously. For example, in a power plant simulation, the shaft inertia of a turbine can be modified during the simulation to determine its effect on stability, something impossible on a physical power plant. Furthermore, with a real-time simulator, all model variables are accessible during execution. As an example, in a wind turbine application, the torque imposed on the generator from the gearbox is available, since it is a modeled quantity. In a physical wind turbine, obtaining a precise torque value in real time may not be possible since the cost of a torque meter may well be prohibitive.

Важливо зазначити, що модель, виконану на симуляторі в реальному часі, можна модифікувати в режимі онлайн, що неможливо на фізичному заводі. Будь-який параметр моделі можна зчитувати та постійно оновлювати. Наприклад, під час моделювання електростанції інерцію вала турбіни можна змінити під час моделювання, щоб визначити її вплив на стабільність, що неможливо на фізичній електростанції. Крім того, за допомогою симулятора в реальному часі всі змінні моделі доступні під час виконання. Як приклад, у застосуванні вітрової турбіни крутний момент, який накладається на генератор від коробки передач, доступний, оскільки це змодельована величина. У фізичній вітряній турбіні отримати точне значення крутного моменту в реальному часі може бути неможливо, оскільки вартість вимірювача крутного моменту може бути непомірно високою.

![image-20220822180443345](media/image-20220822180443345.png)

**FIGURE 9.7** Types of simulator interaction.

Online model configuration and full data availability make previously unthinkable applications possible. An example of such an application is testing the ability of a controller to adapt to changes in a plant. It is, therefore, possible to verify if a controller can compensate for changes in the dynamics of the plant caused by component aging.

Он-лайн конфігурація моделі та повна доступність даних роблять можливими раніше немислимі програми. Прикладом такого застосування є перевірка здатності контролера адаптуватися до змін на заводі. Таким чином, можна перевірити, чи може контролер компенсувати зміни в динаміці установки, спричинені старінням компонентів.

[9.2 <--- ](9_2.md) [   Зміст   ](README.md) [--> 9.4](9_4.md)