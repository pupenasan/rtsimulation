[9.3 <--- ](9_3.md) [   Зміст   ](README.md) [--> 10](10.md)

## 9.4. APPLICATION EXAMPLES

This section explains various applications of real-time simulation technology.

 

**9.1.1**           **p****ower** **g****eneraTion** **a****ppliCaTions**

Testing of complex electric systems shown in [Figure 9.8 ](#_bookmark56)such as HVDC networks, static VAR compensators, static compensators, FACTS device control systems, and the integration of renewable energy sources in the grid, under steady state and tran- sient operating conditions, is a mandatory practice during the controller development phase and before final system commissioning [30,36,37]. Testing is performed to reduce risk associated with conducting tests on physical networks. HIL testing must first be performed successfully with a prototype controller before the actual produc- tion controller is installed in the field. Thousands of systematic and random tests are typically required to test performance under normal and abnormal operating condi- tions [38]. This testing can also detect instabilities caused by unwanted interactions between control functions and the power system, which may include other FACTS devices that may interact with the system under test.

Protection and insulation coordination techniques for large power systems make use of statistical studies to deal with inherent random events, such as the electrical angle at which a breaker closes or the point-on-wave at which a fault appears [39]. By testing multiple fault occurrences, measured quantities can be identified, recorded, and stored in databases for later retrieval, analysis, and study. While traditional offline simulation software (e.g., ATP, EMTP) [40] can be used to conduct statistical studies during the development of protection algorithms, once a hardware relay is built, further evaluation and development may require using a real-time simulator. Typical studies include digital relay behavior evaluation in different power system operating conditions. Furthermore, relay action may influence the power system, increase distortions, and thus affect other relays. Closed-loop testing in real time is necessary for many system studies and for protection system development.

The integration of distributed generation (DG) devices, including microgrid applications and renewable energy sources (RES), such as wind farms, is one of the primary challenges facing electrical engineers in the power industry today [41,42]. It requires in-depth analysis and the contributions of many engineers from different specialized fields. With growing demand in the area, there is a need for engineer- ing studies to be conducted on the impact that the interconnection of DG and RES will have on specific grids. The fact that RES and DG are usually connected to the grid using power electronic converters is a challenge in itself. Accurately simulating fast-switching power electronic devices requires the use of very short step sizes to solve system equations. Moreover, synchronous generators, which are typically the



Modern Methodology of Electric System Design                     **231**

​                                                                                        

​            B1            

​            B2            

​            B4            

​            M11            

​            B3     B5    B6            

​            B7     B8            

​            M1            

​            B11            

​            B13         B12            

​            B22            

​            M23            

​            B10            

​            B9            

​            B24            

​            B23            

​            M10 B27            

​            B16            

​            B14 B15            

​            B18      B17            

​            M24 HVDC1      B37            

​            B28            

​            B25            

​            B40             B19            

​            B36            

​            B26            

​            B21            

​            B41            

​            B20            

​            HVDC3      HVDC2      B39            

​            B29            

​            B30            

​            B38            

​            M20      B31            

​            RECT/NV      Plant Transformer            

​            Bus Load      500KVHVAC      500KVHVDC            

​            M31            

​            B33            

​            B3B32            

​            4            

​            B35            

​            M35            







 

 

**FIGURE 9.8** Power generation applications.

 

main generation sources on grids, have a slow response to EMT. The simulation of fast-switching power electronic devices in combination with slow electromechanical components in an electrical network is challenging for large grid benchmark stud- ies, more so if proper computation resources are not available. Offline simulation



​     ![Підпис: 5200uF](file:///C:/Users/OLEKSA~1/AppData/Local/Temp/msohtmlclip1/01/clip_image005.png)**232**                             Real-Time Simulation Technologies

 

is widely used in the field but is time consuming, particularly if no precision com- promise is made on the models (e.g., use of average models for PWM inverters). By using real-time simulation, the overall stability and transient responses of the power system, before and after the integration of RES and DG, can be investigated in a timely matter. Statistical studies can be performed to determine worst-case scenarios, optimize power system planning, and mitigate the effect of the integration of these new energy sources.

 

**9.1.2**            **a****uTomoTive** **a****ppliCaTions**

Internal combustion engine hybrid electric cars built by companies such as Toyota and Honda have become economically viable and widely available in recent years. At the same time, considerable research is underway toward the development of fuel cell hybrid electric vehicles, where the main energy source is hydrogen-based. Successful research and development of fuel cell hybrid electric vehicles requires state-of-the-art technology for design and testing. Lack of prior experience, expensive equipment, and shorter developmental cycles are forcing researchers to use MBD techniques for devel- opment of control systems [43]. For this reason, thorough testing of traction subsystems such as fuel cell hybrid vehicle is performed using HIL simulation [44], as illustrated by Figure 9.9. In this example, a real-time simulation of a realistic fuel cell hybrid elec- tric vehicle circuit, consisting of a fuel cell, battery, DC–DC converter, and permanent

 

 

​     

 

 

 

 

 

 

 

 

 

 

 

 

 

​            

​          Battery     circuit    10 kHz DC–DC converters Fuel cell circuit PWM inverter Permanent     magnet motor           240–     ∑380 V     240     400 V     FPU                      FPU          

​          CPU 1 : (Ts=10 us)          

​          80 kW           Digital IN     FPU       Digital     OUT          

​          CPU 2 : (Ts=20 us)          

​          i550m   vfuel_C Duty cycle          

​          Vuv          

​          0mot      imot          

​          or        or          

​          DC–DC converter          

​          Motor controller          



​    

![Підпис: 2600UF](file:///C:/Users/OLEKSA~1/AppData/Local/Temp/msohtmlclip1/01/clip_image008.png)

​                                     

   

   

**FIGURE 9.9** Automotive applications.





Modern Methodology of Electric System Design                     **233**

 

magnet motor drives, with a sufficient number of I/O for real controllers in HIL mode, can now (2010) be performed with a step size duration below 10 μs [45].

 

**9.1.3**            **a****ll****-e****leCTriC** **s****hips and** **e****leCTriC** **T****rain** **n****eTworks**

Today, the development and integration of controllers for electric train and all- electric ship (AES) applications is a more difficult task than ever before. Emergence of high-power switching devices has enabled the development of new solutions with improved controllability and efficiency. It has also increased the necessity for more stringent test and integration capabilities since these new topologies come with less design experience on the part of system designers. To address this issue, real-time simulation can be a very useful tool to test, validate, and integrate various subsys- tems of modern rail (Figure 9.10a) and marine (Figure 9.10b) vehicle devices [46]. The requirements for rail/marine vehicle test and integration reaches several levels on the control hierarchy, from low-level power electronic converters used for propul- sion and auxiliary systems to high-level supervisory controls.

The modular design and redundancies built into the power system of an AES designed for combat are critical in ensuring the ship’s reliability and survivability during battle. For instance, auxiliary propulsion systems will dynamically replace the primary system in case of failure. This implies that such a power system be

​                  

​            IM            

​            Phase A transformer Diode recti er            

​            (6      winding )            

​            920 V            

​            54 m            

​            8-level GTO bridge inverter Phase A or load            

​            +30 degree      920 V      +15 degree      920 V      0 degree      920 V      –15 degree            

​            54 m            

​            Network             L L-            

​            R-L load            

​            300 V            

​            54 m            

​            54 m            

​            Phase B transformers recti er      Phase C      transformers recti er            

​            Internal neutral point      Phase B            

​            Phase C            







(a)

**FIGURE 9.10** Train (a) and ship (b) applications.



**234**                             Real-Time Simulation Technologies

 

​            

​          PCM1          

​          PCM1          

​          *DC* *Port* *bus*          

​          PCM3          

​          NV     load     Vital load          

​          PCM3          

​          PCM2          

​          PCM2          

​          NV     load     Vital load          

​          PCM-4          

​          PGM          

​          PGM          

​          PCM-4          

​          EPM          

​          M          

​          ESM          

​          Filter          

​          EPM          

​          M          

​          PCM5           PCM6          

​          Vital load     NV     load          

​          PCM1          

​          *DC* *STBD bus*          

​          PCM: Power generation module PCM: Power conversion module     Vision module ESM: Energy storage module          



Zone 2                                     Zone 1



 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 



 

 

**FIGURE 9.10** (*Continued*)





(b)



 

dynamically reconfigured, such as in zonal electric distribution systems (ZEDS) that have been recently designed for the U.S. Navy AES [47]. Therefore, power manage- ment operations must be highly efficient. Power quality issues must be kept to a minimum, and operational integrity must be as high as possible during transients caused by system reconfigurations or loss of modules.

The design and integration of an AES’s ZEDS is challenging in many ways. Such a project requires testing of the interactions between hundreds of interconnected power electronic subsystems, built by different manufacturers. Large analog test benches or the use of actual equipment during system commissioning is, therefore, required at different stages of the project. A real-time simulator can be effectively used to perform HIL integration tests to evaluate the performance of some parts of these very complex systems, thereby reducing the cost, duration, and risks related to the use of actual equipment to conduct integration tests [40].



Modern Methodology of Electric System Design                     **235**

​                  

​            Input lter            

​            Matrix converter            

​            o             

​            Sawn Sawp            

​            on      u      iu            

​            v     w            

​            Bi-directional switch            

​            iv            

​            iw      Motor and load            

​            Power      grid            

​            Clamp circuit            







**FIGURE 9.11** Aerospace applications.

 

**9.1.4**            **a****erospaCe**

Although most aerospace applications do not necessitate the extremely short step sizes required in power generation or automotive applications, repeatability and accuracy of simulation results is crucial. Safety is a critical factor in the design of aerospace systems (Figure 9.11). Accordingly, aircraft manufacturers must conform to strin- gent industry standards. Developed by the U.S.-based Radio Technical Commission for Aeronautics, the DO-178B standard establishes guidelines for avionics software quality and testing in real-world conditions [48]. DO-254 is a formal standard gov- erning design of airborne electronic hardware [49].

The complex control systems found onboard today’s aircraft are also developed and tested according to these standards. As a result, aerospace engineers must rely on high-precision testing and simulation technologies that will ensure this compliance. Of course, at the same time they must also meet the market’s demands for innovative new products, built on time, according to the specifications, and within budget.

 

**9.1.5**            **e****leCTriC** **d****rive and** **m****oTor** **d****evelopmenT and** **T****esTing**

A critical aspect in the deployment of motor drives lies in the detection of design defects early in the design process. Simply put, the later in the process that a problem is discovered, the higher the cost to fix it. Rapid prototyping of motor controllers is a methodology that enables the control engineer to quickly deploy control algorithms and find eventual problems. This is typically performed using RCP connected in closed loop with a physical prototype of the drive to be controlled as illustrated in [Figure 9.12](#_bookmark57). This methodology implies that the physical motor drive is available at the RCP stage of the design process. Furthermore, this setup requires a second drive (such as a DC motor drive) to be connected to the motor drive under test to emulate the mechanical load. While this is a complex setup, it has proven very effective in detecting problems earlier in the design process.



**236**                             Real-Time Simulation Technologies

​                  

​            +      –            

​            Motor            







**FIGURE 9.12** Smaller scale industrial and commercial applications.

 

In cases where a physical drive is not available or where only costly prototypes are available, an HIL-simulated motor drive can be used during the RCP develop- ment stage. In such cases, the dynamometer, physical insulated-gate bipolar transis- tor converter, and motor are replaced by a real-time virtual motor drive model. This approach has a number of advantages. For example, the simulated motor drive can be tested with abnormal conditions that would otherwise damage a physical motor. In addition, setup of the controlled-speed test bench is simplified since the virtual shaft speed is set by a single model signal, as opposed to using a physical bench, where a second drive would be necessary to control the shaft speed [50,51].

 

**9.1.6**            **m****eChaTroniCs****: r****oBoTiCs and** **i****ndusTrial** **a****uTomaTion**

Mechatronic systems that integrate both mechanical and electronic capabilities are at the core of robotic and industrial automation applications ([Figure 9.13](#_bookmark58)). Such sys- tems often integrate high-frequency drive technology and complex electrical and power electronic systems. Using real-time simulation to design and test such systems helps ensure greater efficiency of systems deployed in large-scale manufacturing and for unique, but growing applications of robotics [17].

 

**9.1.7**            **e****d****u****C****a****T****i****o****n****:** **u****niversiTy** **r****esearCh and** **d****evelopmenT**

To keep pace with the technological revolution that is underway, universities must change [52]. This transformation is necessary to create new ways to teach future engi- neers using a multidisciplinary approach, leveraging the possibilities offered by new tools that talented engineers are seeking, while providing them with practical experi- ence that cultivates their creativity [53]. In this context, electronic circuit simulation programs have been in use as teaching aids for many years in electronics and control system classes. The workflow in these classes is quite straightforward: build the circuit with the circuit editor tool, run the simulation, and analyze the results. However, when it is necessary to study the effect of the variation of many parameters (e.g., oscillator frequency, duty cycle, discrete component values), this process can take a substantial



Modern Methodology of Electric System Design                     **237**

​                  

​            1      Brake signal      2      Accelerator pedal value      3      Switch            

​            NO T            

​            NO T            

​            AN D            

​            NO T            

​            regulator            

​            Speed 3            

​            Enable      Speed            

​            target            

​            Fuel target quantity            

​            4      Actual vehicle speed            

​            Actual vehicle speed      Speed regulator            

​            Fuel quality            







**FIGURE 9.13** Mechatronic applications.

 

amount of time [54]. In such situations, an interactive simulation based on a real-time simulator that offers the capability to change model parameters at runtime becomes a valuable teaching tool. With such a tool, changes to the model are instantly visible, providing students with the live feedback that they are looking for to acquire a feel for how a system reacts to the changes that they make to it, as illustrated in [Figure 9.14](#_bookmark59).

 

**9.1.8**            **e****merging** **a****ppliCaTions**

Real-time simulation is being used in two additional emerging applications. Since a real-time simulator can provide outputs and read inputs, it is an ideal tool for equip- ment commissioning and testing, as depicted in Figure 9.15a. Not only can it mimic a physical plant, it can also emulate other devices, play a recorded sequence of events, and record a device under test response. Modern simulators can also provide simu- lated network connections such as CAN, GPIB, and Ethernet. The application of real-time simulators to equipment commissioning and tests is common in the manu- facturing of electronic control modules. For this application, the use of real-time simulators saves test bench costs and reduces testing time.

Operator and technician training is another way to put real-time simulation to good use, as illustrated in Figure 9.15b. While this application category is in an early growth



**238**                             Real-Time Simulation Technologies

​     

**FIGURE 9.14** Education applications.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 



​            

​          Plant          

​          Network          

​          +     –          

​          Motor          

​          Automated test sequencer          



​    

![Підпис: CAN GPIB SERIAL](file:///C:/Users/OLEKSA~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png)

​    

![Підпис: CAN GPIB SERIAL](file:///C:/Users/OLEKSA~1/AppData/Local/Temp/msohtmlclip1/01/clip_image016.png)Device under test



 

**FIGURE 9.15** Emerging applications.





(a)



Real-time simulator



Modern Methodology of Electric System Design                     **239**



 

 

 

 

 

 

 

 

 

 

 

 

 

 

​            

​          Plant and controller     +–          

​          User interfaces          

​          +     –          

​          Motor          

​          Network          

​          Network          



Operator



 

**FIGURE 9.15** (*Continued*)





 

 

 

 

 

 

 

 

 

 

 

 

 

 

(b)





 

 

 

 

 

 

 

 

 

 

 

 

 

Real-time simulator



 

stage, it offers terrific potential. For this category of application, both controller and plant are modeled in the same simulator using an SIL-like approach. The difference is that user interfaces are added to allow the operator to interact with the simulation in a user- friendly way. Interfaces such as control panels and joysticks manage user inputs, but must also provide feedback to the user about the simulation state. The advantage of using a real-time simulator for training is that the user can acquire a feeling for the controller and plant that correctly represents the real system, without the delays and limitations com- monly found in training environments that are based on prerecorded scenarios.

[9.3 <--- ](9_3.md) [   Зміст   ](README.md) [--> 10](10.md)