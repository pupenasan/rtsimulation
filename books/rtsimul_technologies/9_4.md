[9.3 <--- ](9_3.md) [   Зміст   ](README.md) [--> 10](10.md)

## 9.4. APPLICATION EXAMPLES

This section explains various applications of real-time simulation technology. 

У цьому розділі пояснюються різні застосування технології моделювання в реальному часі.

### 9.4.1 Power Generation Applications

Testing of complex electric systems shown in [Figure 9.8 ](#_bookmark56)such as HVDC networks, static VAR compensators, static compensators, FACTS device control systems, and the integration of renewable energy sources in the grid, under steady state and transient operating conditions, is a mandatory practice during the controller development phase and before final system commissioning [30,36,37]. Testing is performed to reduce risk associated with conducting tests on physical networks. HIL testing must first be performed successfully with a prototype controller before the actual production controller is installed in the field. Thousands of systematic and random tests are typically required to test performance under normal and abnormal operating conditions [38]. This testing can also detect instabilities caused by unwanted interactions between control functions and the power system, which may include other FACTS devices that may interact with the system under test.

Тестування складних електричних систем, показаних на [Малюнок 9.8](#_bookmark56), таких як мережі HVDC, статичні компенсатори VAR, статичні компенсатори, системи керування пристроями FACTS та інтеграція відновлюваних джерел енергії в мережу, у стаціонарних і перехідних режимах роботи , є обов’язковою практикою на етапі розробки контролера та перед остаточним введенням системи в експлуатацію [30,36,37]. Тестування проводиться для зменшення ризику, пов’язаного з проведенням тестів у фізичних мережах. Тестування HIL спочатку має бути успішно виконано з прототипом контролера, перш ніж фактичний контролер виробництва буде встановлено в полі. Зазвичай потрібні тисячі систематичних і випадкових тестів, щоб перевірити продуктивність за нормальних і ненормальних умов експлуатації [38]. Це тестування також може виявити нестабільність, викликану небажаною взаємодією між функціями керування та системою живлення, яка може включати інші пристрої FACTS, які можуть взаємодіяти з тестованою системою.

Protection and insulation coordination techniques for large power systems make use of statistical studies to deal with inherent random events, such as the electrical angle at which a breaker closes or the point-on-wave at which a fault appears [39]. By testing multiple fault occurrences, measured quantities can be identified, recorded, and stored in databases for later retrieval, analysis, and study. While traditional offline simulation software (e.g., ATP, EMTP) [40] can be used to conduct statistical studies during the development of protection algorithms, once a hardware relay is built, further evaluation and development may require using a real-time simulator. Typical studies include digital relay behavior evaluation in different power system operating conditions. Furthermore, relay action may influence the power system, increase distortions, and thus affect other relays. Closed-loop testing in real time is necessary for many system studies and for protection system development.

Методи координації захисту та ізоляції для великих енергосистем використовують статистичні дослідження для обробки властивих випадкових подій, таких як електричний кут, під яким замикається вимикач, або точка на хвилі, в якій з’являється несправність [39]. Випробовуючи численні несправності, виміряні величини можна ідентифікувати, записати та зберегти в базах даних для подальшого пошуку, аналізу та вивчення. У той час як традиційне програмне забезпечення для моделювання в режимі офлайн (наприклад, ATP, EMTP) [40] можна використовувати для проведення статистичних досліджень під час розробки алгоритмів захисту, після створення апаратного реле для подальшої оцінки та розробки може знадобитися використання симулятора в реальному часі. Типові дослідження включають оцінку поведінки цифрового реле в різних умовах експлуатації енергосистеми. Крім того, дія реле може впливати на енергосистему, збільшувати спотворення і таким чином впливати на інші реле. Замкнене тестування в реальному часі є необхідним для багатьох системних досліджень і для розробки системи захисту.

The integration of distributed generation (DG) devices, including microgrid applications and renewable energy sources (RES), such as wind farms, is one of the primary challenges facing electrical engineers in the power industry today [41,42]. It requires in-depth analysis and the contributions of many engineers from different specialized fields. With growing demand in the area, there is a need for engineering studies to be conducted on the impact that the interconnection of DG and RES will have on specific grids. The fact that RES and DG are usually connected to the grid using power electronic converters is a challenge in itself. Accurately simulating fast-switching power electronic devices requires the use of very short step sizes to solve system equations. Moreover, synchronous generators, which are typically the main generation sources on grids, have a slow response to EMT. The simulation of fast-switching power electronic devices in combination with slow electromechanical components in an electrical network is challenging for large grid benchmark studies, more so if proper computation resources are not available. Offline simulation is widely used in the field but is time consuming, particularly if no precision compromise is made on the models (e.g., use of average models for PWM inverters). By using real-time simulation, the overall stability and transient responses of the power system, before and after the integration of RES and DG, can be investigated in a timely matter. Statistical studies can be performed to determine worst-case scenarios, optimize power system planning, and mitigate the effect of the integration of these new energy sources.

Інтеграція пристроїв розподіленої генерації (DG), включаючи додатки мікромережі та відновлювані джерела енергії (ВДЕ), такі як вітрові електростанції, є однією з головних проблем, з якими сьогодні стикаються інженери-електрики в енергетичній галузі [41,42]. Це потребує глибокого аналізу та участі багатьох інженерів із різних спеціалізованих галузей. Зі зростанням попиту в цьому регіоні виникає потреба в проведенні інженерних досліджень щодо впливу, який з’єднання DG і RES матиме на конкретні мережі. Той факт, що ВДЕ та ГР зазвичай підключаються до мережі за допомогою силових електронних перетворювачів, сам по собі є проблемою. Точне моделювання швидкоперемикаючих силових електронних пристроїв вимагає використання дуже малих розмірів кроку для вирішення системних рівнянь. Крім того, синхронні генератори, які зазвичай є основними джерелами генерації в мережах, мають повільну реакцію на ЕМТ. Моделювання швидкоперемикаючих силових електронних пристроїв у поєднанні з повільними електромеханічними компонентами в електричній мережі є складним завданням для еталонних досліджень великої мережі, особливо якщо належні обчислювальні ресурси недоступні. Автономне моделювання широко використовується в цій галузі, але потребує багато часу, особливо якщо немає компромісу щодо точності моделей (наприклад, використання середніх моделей для ШІМ-інверторів). Використовуючи моделювання в режимі реального часу, можна своєчасно дослідити загальну стабільність і перехідні реакції енергосистеми до і після інтеграції ВДЕ та ГР. Статистичні дослідження можна проводити для визначення найгірших сценаріїв, оптимізації планування енергосистеми та пом’якшення ефекту інтеграції цих нових джерел енергії.

![image-20220822180547797](media/image-20220822180547797.png)

**FIGURE 9.8** Power generation applications.

### 9.4.2 Automotive Applications

Internal combustion engine hybrid electric cars built by companies such as Toyota and Honda have become economically viable and widely available in recent years. At the same time, considerable research is underway toward the development of fuel cell hybrid electric vehicles, where the main energy source is hydrogen-based. Successful research and development of fuel cell hybrid electric vehicles requires state-of-the-art technology for design and testing. Lack of prior experience, expensive equipment, and shorter developmental cycles are forcing researchers to use MBD techniques for development of control systems [43]. For this reason, thorough testing of traction subsystems such as fuel cell hybrid vehicle is performed using HIL simulation [44], as illustrated by Figure 9.9. In this example, a real-time simulation of a realistic fuel cell hybrid electric vehicle circuit, consisting of a fuel cell, battery, DC–DC converter, and permanent magnet motor drives, with a sufficient number of I/O for real controllers in HIL mode, can now (2010) be performed with a step size duration below 10 μs [45].

Гібридні електричні автомобілі з двигуном внутрішнього згоряння, створені такими компаніями, як Toyota і Honda, стали економічно життєздатними та широко доступними в останні роки. Водночас ведуться значні дослідження щодо розробки гібридних електромобілів на паливних елементах, де основним джерелом енергії є водень. Успішне дослідження та розробка гібридних електричних транспортних засобів на паливних елементах потребує найсучаснішої технології проектування та тестування. Відсутність попереднього досвіду, дороге обладнання та коротші цикли розробки змушують дослідників використовувати методи MBD для розробки систем керування [43]. З цієї причини ретельне тестування тягових підсистем, таких як гібридний транспортний засіб на паливних елементах, виконується за допомогою моделювання HIL [44], як показано на малюнку 9.9. У цьому прикладі моделювання в режимі реального часу реалістичної схеми гібридного електричного транспортного засобу на паливних елементах, що складається з паливного елемента, батареї, перетворювача постійного струму та двигунів з постійними магнітами, з достатньою кількістю входів/виходів для реальних контролерів у Режим HIL тепер (2010) можна виконувати з тривалістю кроку менше 10 мкс [45].

 ![image-20220822180655259](media/image-20220822180655259.png)

**FIGURE 9.9** Automotive applications.

### 9.4.3 All-Electric Ships and Electric Train Networks

Today, the development and integration of controllers for electric train and allelectric ship (AES) applications is a more difficult task than ever before. Emergence of high-power switching devices has enabled the development of new solutions with improved controllability and efficiency. It has also increased the necessity for more stringent test and integration capabilities since these new topologies come with less design experience on the part of system designers. To address this issue, real-time simulation can be a very useful tool to test, validate, and integrate various subsystems of modern rail (Figure 9.10a) and marine (Figure 9.10b) vehicle devices [46]. The requirements for rail/marine vehicle test and integration reaches several levels on the control hierarchy, from low-level power electronic converters used for propulsion and auxiliary systems to high-level supervisory controls.

Сьогодні розробка та інтеграція контролерів для додатків електропоїздів та електросуден (AES) є більш складним завданням, ніж будь-коли раніше. Поява комутаційних пристроїв великої потужності дозволила розробити нові рішення з покращеною керованістю та ефективністю. Це також збільшило потребу в більш суворих можливостях тестування та інтеграції, оскільки ці нові топології мають менший досвід проектування з боку розробників систем. Щоб вирішити цю проблему, моделювання в реальному часі може бути дуже корисним інструментом для тестування, перевірки та інтеграції різних підсистем сучасних залізничних (Рис. 9.10a) і морських (Рис. 9.10b) транспортних засобів [46]. Вимоги до випробувань та інтеграції залізничних/морських транспортних засобів охоплюють кілька рівнів ієрархії керування, від низькорівневих електронних перетворювачів потужності, що використовуються для силової установки та допоміжних систем, до контрольних засобів високого рівня.

The modular design and redundancies built into the power system of an AES designed for combat are critical in ensuring the ship’s reliability and survivability during battle. For instance, auxiliary propulsion systems will dynamically replace the primary system in case of failure. This implies that such a power system be dynamically reconfigured, such as in zonal electric distribution systems (ZEDS) that have been recently designed for the U.S. Navy AES [47]. Therefore, power management operations must be highly efficient. Power quality issues must be kept to a minimum, and operational integrity must be as high as possible during transients caused by system reconfigurations or loss of modules.

Модульна конструкція та резервування, вбудовані в систему живлення AES, розробленої для бою, мають вирішальне значення для забезпечення надійності та живучості корабля під час бою. Наприклад, допоміжні силові установки будуть динамічно замінювати основну систему в разі відмови. Це означає, що така енергосистема динамічно реконфігурується, наприклад, у зональних системах розподілу електроенергії (ZEDS), які нещодавно були розроблені для AES ВМС США [47]. Тому операції з управління енергоспоживанням повинні бути високоефективними. Проблеми з якістю електроенергії мають бути зведені до мінімуму, а робоча цілісність має бути якомога вищою під час перехідних процесів, викликаних реконфігурацією системи або втратою модулів.

![image-20220822180752411](media/image-20220822180752411.png)

**FIGURE 9.10** Train (a) and ship (b) applications.

![image-20220822180812353](media/image-20220822180812353.png)

**FIGURE 9.10** (*Continued*)

The design and integration of an AES’s ZEDS is challenging in many ways. Such a project requires testing of the interactions between hundreds of interconnected power electronic subsystems, built by different manufacturers. Large analog test benches or the use of actual equipment during system commissioning is, therefore, required at different stages of the project. A real-time simulator can be effectively used to perform HIL integration tests to evaluate the performance of some parts of these very complex systems, thereby reducing the cost, duration, and risks related to the use of actual equipment to conduct integration tests [40].

Розробка та інтеграція ZEDS AES є складною з багатьох точок зору. Такий проект вимагає тестування взаємодії між сотнями взаємопов’язаних силових електронних підсистем, створених різними виробниками. Таким чином, на різних етапах проекту потрібні великі аналогові випробувальні стенди або використання реального обладнання під час введення системи в експлуатацію. Симулятор реального часу можна ефективно використовувати для виконання інтеграційних тестів HIL для оцінки продуктивності деяких частин цих дуже складних систем, тим самим зменшуючи вартість, тривалість і ризики, пов’язані з використанням реального обладнання для проведення інтеграційних тестів [40] .

![image-20220822180835519](media/image-20220822180835519.png)

**FIGURE 9.11** Aerospace applications.

### 9.4.4 Aerospace

Although most aerospace applications do not necessitate the extremely short step sizes required in power generation or automotive applications, repeatability and accuracy of simulation results is crucial. Safety is a critical factor in the design of aerospace systems (Figure 9.11). Accordingly, aircraft manufacturers must conform to stringent industry standards. Developed by the U.S.-based Radio Technical Commission for Aeronautics, the DO-178B standard establishes guidelines for avionics software quality and testing in real-world conditions [48]. DO-254 is a formal standard governing design of airborne electronic hardware [49].

Незважаючи на те, що більшість аерокосмічних застосувань не вимагають надзвичайно коротких розмірів кроків, необхідних у виробництві електроенергії чи автомобільних додатках, повторюваність і точність результатів моделювання має вирішальне значення. Безпека є критичним фактором при проектуванні аерокосмічних систем (рис. 9.11). Відповідно, виробники літаків повинні відповідати суворим галузевим стандартам. Стандарт DO-178B, розроблений американською Радіотехнічною комісією з аеронавтики, встановлює рекомендації щодо якості програмного забезпечення авіоніки та тестування в реальних умовах [48]. DO-254 є формальним стандартом, що регулює дизайн бортового електронного обладнання [49].

The complex control systems found onboard today’s aircraft are also developed and tested according to these standards. As a result, aerospace engineers must rely on high-precision testing and simulation technologies that will ensure this compliance. Of course, at the same time they must also meet the market’s demands for innovative new products, built on time, according to the specifications, and within budget.

Складні системи керування, які є на борту сучасних літаків, також розроблені та перевірені відповідно до цих стандартів. У результаті аерокосмічні інженери повинні покладатися на високоточні технології випробувань і моделювання, які забезпечуватимуть цю відповідність. Звичайно, водночас вони також повинні відповідати вимогам ринку щодо інноваційних нових продуктів, створених вчасно, відповідно до специфікацій і в межах бюджету.

### 9.4.5 Electric Drive and Motor Development and Testing

A critical aspect in the deployment of motor drives lies in the detection of design defects early in the design process. Simply put, the later in the process that a problem is discovered, the higher the cost to fix it. Rapid prototyping of motor controllers is a methodology that enables the control engineer to quickly deploy control algorithms and find eventual problems. This is typically performed using RCP connected in closed loop with a physical prototype of the drive to be controlled as illustrated in [Figure 9.12](#_bookmark57). This methodology implies that the physical motor drive is available at the RCP stage of the design process. Furthermore, this setup requires a second drive (such as a DC motor drive) to be connected to the motor drive under test to emulate the mechanical load. While this is a complex setup, it has proven very effective in detecting problems earlier in the design process.

Критичним аспектом у розгортанні моторних приводів є виявлення дефектів конструкції на ранніх стадіях процесу проектування. Простіше кажучи, чим пізніше в процесі буде виявлено проблему, тим вище буде вартість її усунення. Швидке створення прототипів контролерів двигунів — це методологія, яка дає змогу інженерам з керування швидко розгортати алгоритми керування та знаходити можливі проблеми. Зазвичай це виконується за допомогою RCP, підключеного до замкнутого циклу з фізичним прототипом приводу, яким потрібно керувати, як показано на [Рис. 9.12] (#_bookmark57). Ця методологія передбачає, що фізичний моторний привід доступний на стадії RCP процесу проектування. Крім того, ця установка вимагає підключення другого приводу (наприклад, приводу з двигуном постійного струму) до приводу двигуна, який тестується, щоб імітувати механічне навантаження. Хоча це складна установка, вона виявилася дуже ефективною у виявленні проблем на ранніх етапах процесу проектування.

![image-20220822180940910](media/image-20220822180940910.png)

**FIGURE 9.12** Smaller scale industrial and commercial applications.

In cases where a physical drive is not available or where only costly prototypes are available, an HIL-simulated motor drive can be used during the RCP development stage. In such cases, the dynamometer, physical insulated-gate bipolar transistor converter, and motor are replaced by a real-time virtual motor drive model. This approach has a number of advantages. For example, the simulated motor drive can be tested with abnormal conditions that would otherwise damage a physical motor. In addition, setup of the controlled-speed test bench is simplified since the virtual shaft speed is set by a single model signal, as opposed to using a physical bench, where a second drive would be necessary to control the shaft speed [50,51]. 

У випадках, коли фізичний привід недоступний або доступні лише дорогі прототипи, на етапі розробки RCP можна використовувати моторний привід, імітований HIL. У таких випадках динамометр, фізичний біполярний транзисторний перетворювач із ізольованим затвором і двигун замінюються моделлю приводу віртуального двигуна в реальному часі. Такий підхід має низку переваг. Наприклад, змодельований моторний привід можна перевірити в ненормальних умовах, які інакше можуть пошкодити фізичний двигун. Крім того, налаштування випробувального стенду з контрольованою швидкістю спрощується, оскільки віртуальна швидкість вала встановлюється одним сигналом моделі, на відміну від використання фізичного стенду, де другий привід буде необхідним для керування швидкістю вала [50,51]. ].

### 9.4.6 Mechatronics: Robotics and Industrial Automation

Mechatronic systems that integrate both mechanical and electronic capabilities are at the core of robotic and industrial automation applications ([Figure 9.13](#_bookmark58)). Such systems often integrate high-frequency drive technology and complex electrical and power electronic systems. Using real-time simulation to design and test such systems helps ensure greater efficiency of systems deployed in large-scale manufacturing and for unique, but growing applications of robotics [17].

Мехатронні системи, які поєднують як механічні, так і електронні можливості, є основою роботизованих і промислових додатків автоматизації ([Рис. 9.13](#_bookmark58)). Такі системи часто інтегрують технологію високочастотного приводу та складні електричні та силові електронні системи. Використання моделювання в реальному часі для проектування та тестування таких систем допомагає забезпечити більшу ефективність систем, що розгортаються у великомасштабному виробництві та для унікальних, але зростаючих застосувань робототехніки [17].

### 9.4.7 Education: University Research and Development

To keep pace with the technological revolution that is underway, universities must change [52]. This transformation is necessary to create new ways to teach future engineers using a multidisciplinary approach, leveraging the possibilities offered by new tools that talented engineers are seeking, while providing them with practical experience that cultivates their creativity [53]. In this context, electronic circuit simulation programs have been in use as teaching aids for many years in electronics and control system classes. The workflow in these classes is quite straightforward: build the circuit with the circuit editor tool, run the simulation, and analyze the results. However, when it is necessary to study the effect of the variation of many parameters (e.g., oscillator frequency, duty cycle, discrete component values), this process can take a substantial amount of time [54]. In such situations, an interactive simulation based on a real-time simulator that offers the capability to change model parameters at runtime becomes a valuable teaching tool. With such a tool, changes to the model are instantly visible, providing students with the live feedback that they are looking for to acquire a feel for how a system reacts to the changes that they make to it, as illustrated in [Figure 9.14](#_bookmark59).

Щоб йти в ногу з технологічною революцією, яка триває, університети повинні змінюватися [52]. Ця трансформація необхідна для створення нових способів навчання майбутніх інженерів з використанням мультидисциплінарного підходу, використовуючи можливості, які пропонують нові інструменти, які шукають талановиті інженери, водночас надаючи їм практичний досвід, який розвиває їхню творчість [53]. У цьому контексті програми моделювання електронних схем протягом багатьох років використовуються як навчальні посібники в класах електроніки та систем керування. Робочий процес у цих класах досить простий: побудуйте схему за допомогою редактора схем, запустіть моделювання та проаналізуйте результати. Однак, коли необхідно вивчити вплив зміни багатьох параметрів (наприклад, частоти осцилятора, шпаруватості, значень дискретних компонентів), цей процес може зайняти значну кількість часу [54]. У таких ситуаціях інтерактивне моделювання на основі симулятора реального часу, який пропонує можливість змінювати параметри моделі під час виконання, стає цінним інструментом навчання. За допомогою такого інструменту зміни в моделі миттєво видно, надаючи учням живий зворотний зв’язок, який вони шукають, щоб відчути, як система реагує на зміни, які вони вносять до неї, як показано на [Рис. 9.14]( #_закладка59).

![image-20220822181059251](media/image-20220822181059251.png)

**FIGURE 9.13** Mechatronic applications.

### 9.4.8 Emerging Applications

Real-time simulation is being used in two additional emerging applications. Since a real-time simulator can provide outputs and read inputs, it is an ideal tool for equipment commissioning and testing, as depicted in Figure 9.15a. Not only can it mimic a physical plant, it can also emulate other devices, play a recorded sequence of events, and record a device under test response. Modern simulators can also provide simulated network connections such as CAN, GPIB, and Ethernet. The application of real-time simulators to equipment commissioning and tests is common in the manufacturing of electronic control modules. For this application, the use of real-time simulators saves test bench costs and reduces testing time.

Симуляція в режимі реального часу використовується в двох нових додатках. Оскільки симулятор реального часу може надавати вихідні дані та читати вхідні дані, він є ідеальним інструментом для введення обладнання в експлуатацію та тестування, як показано на малюнку 9.15a. Він може не тільки імітувати фізичну рослину, але й емулювати інші пристрої, відтворювати записану послідовність подій і записувати відповідь тестованого пристрою. Сучасні симулятори також можуть забезпечувати змодельовані мережеві з’єднання, такі як CAN, GPIB і Ethernet. Застосування симуляторів у реальному часі для введення обладнання в експлуатацію та випробувань є поширеним у виробництві електронних модулів керування. Для цього додатка використання симуляторів у реальному часі заощаджує витрати на тестовий стенд і скорочує час тестування.

Operator and technician training is another way to put real-time simulation to good use, as illustrated in Figure 9.15b. While this application category is in an early growth stage, it offers terrific potential. For this category of application, both controller and plant are modeled in the same simulator using an SIL-like approach. The difference is that user interfaces are added to allow the operator to interact with the simulation in a user-friendly way. Interfaces such as control panels and joysticks manage user inputs, but must also provide feedback to the user about the simulation state. The advantage of using a real-time simulator for training is that the user can acquire a feeling for the controller and plant that correctly represents the real system, without the delays and limitations commonly found in training environments that are based on prerecorded scenarios.

Навчання операторів і техніків є ще одним способом ефективного використання симуляції в реальному часі, як показано на малюнку 9.15b. Хоча ця категорія додатків перебуває на ранній стадії розвитку, вона пропонує приголомшливий потенціал. Для цієї категорії застосування і контролер, і установка моделюються в одному симуляторі з використанням SIL-подібного підходу. Різниця полягає в тому, що додаються інтерфейси користувача, щоб дозволити оператору взаємодіяти з симуляцією зручним способом. Такі інтерфейси, як панелі керування та джойстики, керують введенням даних користувачами, але також повинні надавати користувачеві зворотний зв’язок щодо стану симуляції. Перевага використання симулятора в режимі реального часу для навчання полягає в тому, що користувач може відчути контролер і установку, які правильно представляють реальну систему, без затримок і обмежень, які зазвичай зустрічаються в навчальних середовищах, які базуються на попередньо записаних сценаріях.

![image-20220822181132858](media/image-20220822181132858.png)

**FIGURE 9.14** Education applications.

![image-20220822181151922](media/image-20220822181151922.png)

**FIGURE 9.15** Emerging applications.

![image-20220822181632213](media/image-20220822181632213.png)

**FIGURE 9.15** (*Continued*)

[9.3 <--- ](9_3.md) [   Зміст   ](README.md) [--> 10](10.md)