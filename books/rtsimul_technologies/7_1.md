[7 <--- ](7.md) [   Зміст   ](README.md) [--> 7.2](7_2.md)

## 7.1. INTRODUCTION

Simulation has long been used to support design and analysis of complex engineering systems. Fast simulations allow designers to flexibly experiment with and analyze different design solutions without implementing the systems in hardware. Real- time simulations support designers to test the real-time features of a system that interacts with the physical world and/or other hardware components. The latter is especially useful for designing real-time embedded systems, such as mobile devices, manufacturing automation sensors/actuators, and the networked software-defined radio (SDR) system presented in this chapter. Design and implementation of these systems have been influenced by the increasing demand of new products and the recent advances in technologies. The complexity and multidisciplinary nature of these systems make analytical modeling and analysis infeasible. However, system engineers must assess a design before proceeding with implementation of an expensive solution. Although traditional modeling and simulation can help in this goal, its applicability has been limited because of the gap between simulation models and implementation in hardware.

Моделювання вже давно використовується для підтримки проектування та аналізу складних інженерних систем. Швидке моделювання дозволяє дизайнерам гнучко експериментувати та аналізувати різні дизайнерські рішення, не впроваджуючи системи в апаратне забезпечення. Симуляції в реальному часі допомагають розробникам перевірити в реальному часі функції системи, яка взаємодіє з фізичним світом та/або іншими апаратними компонентами. Останнє особливо корисно для проектування вбудованих систем реального часу, таких як мобільні пристрої, датчики/виконавчі механізми автоматизації виробництва та мережева система програмно-визначеного радіо (SDR), представлена в цьому розділі. На проектування та впровадження цих систем вплинув зростаючий попит на нові продукти та останні досягнення технологій. Складність і мультидисциплінарний характер цих систем роблять аналітичне моделювання та аналіз неможливими. Однак системні інженери повинні оцінити проект, перш ніж продовжити впровадження дорогого рішення. Незважаючи на те, що традиційне моделювання та симуляція можуть допомогти в цій меті, їх застосовність була обмежена через розрив між імітаційними моделями та реалізацією в апаратному забезпеченні.

One type of real-time simulation is hardware-in-the-loop (HIL) simulation, which is an advanced technique frequently used in embedded systems’ development [1,2]. A HIL simulation refers to a system in which parts of a pure simulation have been replaced with actual hardware. This is based on the observation that once hardware is added to the loop, unmodeled characteristics can be investigated and controls can be further refined. HIL is typically aimed at developing a single module in a larger system. Although it is a useful technique that can greatly support an engineering design, it does not offer a general methodology that can scale to more complex systems. Systematic design processes and methodologies are necessary for designing complex systems that are characterized as large scale and networked with tight couplings between software and hardware. Motivated by this need, we developed a progressive simulation-based design (PSBD) methodology that goes beyond HIL simulation by gradually adding more hardware to the simulated system in a progressive manner and improving the co-simulated model in each step before continuing [3]. The design process of PSBD starts from all models being simulated on computers, proceeds by bringing real system components into the simulation to replace their virtual counterparts (models), and ends when all components are in their deployed form and the final system is tested in a physical environment. Throughout this process, model continuity is emphasized and the simulation model is continually updated whenever new design details are revealed. Several distributed robotic systems have been developed following the principles of the PSBD methodology [4–6].

Одним із типів моделювання в реальному часі є моделювання апаратного забезпечення в циклі (HIL), яке є передовою технікою, яка часто використовується при розробці вбудованих систем [1,2]. Симуляція HIL відноситься до системи, в якій частини чистої симуляції були замінені фактичним обладнанням. Це засновано на спостереженні, що як тільки апаратне забезпечення додано до циклу, немодельовані характеристики можуть бути досліджені, а елементи керування можуть бути додатково вдосконалені. HIL зазвичай спрямований на розробку одного модуля у більшій системі. Хоча це корисний метод, який може значною мірою підтримати інженерний проект, він не пропонує загальної методології, яка може масштабуватися до більш складних систем. Систематичні процеси та методології проектування необхідні для проектування складних систем, які характеризуються як великомасштабні та мережеві з тісним зв’язком між програмним і апаратним забезпеченням. Керуючись цією потребою, ми розробили методологію проектування на основі прогресивного моделювання (PSBD), яка виходить за рамки моделювання HIL шляхом поступового додавання більшої кількості апаратного забезпечення до змодельованої системи та вдосконалення спільно змодельованої моделі на кожному кроці перед продовженням [3] . Процес проектування PSBD починається з моделювання всіх моделей на комп’ютерах, продовжується залученням компонентів реальної системи до симуляції, щоб замінити їх віртуальні аналоги (моделі), і закінчується, коли всі компоненти знаходяться у своїй розгорнутій формі, а остаточна система тестується в фізичне середовище. Упродовж цього процесу наголошується на безперервності моделі, а імітаційна модель постійно оновлюється щоразу, коли з’являються нові деталі конструкції. За принципами методології PSBD було розроблено декілька розподілених роботизованих систем [4–6].

This chapter presents the PSBD for networked real-time embedded systems. We give an overview of the PSBD methodology and show a bifurcated design process that implements PSBD for individual embedded devices and the networked embedded system. We then apply the PSBD methodology to the design of a networked SDR system. SDR technology refers to a radio communication system capable of transmitting and receiving different modulated signals across a large frequency spectrum using software programmable hardware [7]. Major components of a SDR board include a digital signal processor (DSP), field-programmable-gate-array (FPGA), and radio frequency (RF) front end that facilitates wireless communication among the nodes. A DSP or a conventional central processor unit computes baseband signal processing and implements the MAC layer for networking. An FPGA is used for fast parallel processing of incoming data and down-sampling the result to a lower sample rate suitable for baseband processing. SDR provides modem designers a great opportunity to build complex modems by programming in software the previously hardware components of the radio. This replacement of hardware by software is in line with the model continuity approach of PSBD, as the individual system components are code modules to be developed and tested along the design process. The advantage of PSBD becomes more explicit when multiple SDR nodes should collaborate to form a network. Hence, the interaction of many complex subsystems should be engineered for best performance of the entire system. We show how PSBD is applied to a single cognitive modem and a cognitive radio (CR) network. This chapter extends the previous work on the PSBD methodology [3] and the case study example on SDR [8].

У цьому розділі представлено PSBD для мережевих вбудованих систем реального часу. Ми надаємо огляд методології PSBD і показуємо роздвоєний процес проектування, який реалізує PSBD для окремих вбудованих пристроїв і мережевої вбудованої системи. Потім ми застосовуємо методологію PSBD до розробки мережевої системи SDR. Технологія SDR відноситься до системи радіозв’язку, здатної передавати та приймати різні модульовані сигнали в широкому частотному спектрі за допомогою програмованого апаратного забезпечення [7]. Основні компоненти плати SDR включають процесор цифрових сигналів (DSP), програмовану вентильну матрицю (FPGA) і радіочастотний (RF) інтерфейс, який полегшує бездротовий зв’язок між вузлами. DSP або звичайний центральний процесор обчислює обробку базового сигналу та реалізує рівень MAC для мережі. FPGA використовується для швидкої паралельної обробки вхідних даних і зменшення дискретизації результату до нижчої частоти дискретизації, придатної для обробки основної смуги. SDR надає розробникам модемів чудову можливість створювати складні модеми, програмуючи в програмному забезпеченні раніше апаратні компоненти радіо. Ця заміна апаратного забезпечення програмним забезпеченням відповідає підходу безперервності моделі PSBD, оскільки окремі компоненти системи є кодовими модулями, які розробляються та тестуються в процесі проектування. Перевага PSBD стає більш очевидною, коли кілька вузлів SDR повинні співпрацювати для формування мережі. Отже, взаємодія багатьох складних підсистем повинна бути розроблена для найкращої продуктивності всієї системи. Ми показуємо, як PSBD застосовується до одного когнітивного модему та мережі когнітивного радіо (CR). Цей розділ розширює попередню роботу над методологією PSBD [3] і приклад прикладу дослідження SDR [8].

We aim to show that PSBD is an effective methodology that can be applied to a wide range of networked real-time embedded systems and engineering applications.

Ми прагнемо показати, що PSBD є ефективною методологією, яку можна застосувати до широкого спектру мережевих вбудованих систем реального часу та інженерних програм.

The modeling and simulation environment that supports this work is based on Discrete Event System Specification (DEVS) [9,10]. DEVS is a formalism derived from generic dynamic systems theory and has well-defined concepts of coupling of components, hierarchical, modular model construction, and object-oriented substrate supporting repository reuse. DEVS models time explicitly. This makes it convenient to study timeliness, which is an essential property of real-time systems. The DEVSJAVA environment [11] is used in this work to support fast and real-time simulations in the design process. More information about the DEVS formalism can be found in Zeigler et al. [9]. Applying DEVS-based modeling and simulation to system design has been researched in previous work. For example, a DEVS-based model-driven approach for developing embedded real-time systems was presented in Wainer and coworkers [12,13] to improve the quality of a design and to reduce the need for expensive testing cycle. A methodology for developing hybrid hardware/ software systems was presented in Glinsky and Wainer [14], where techniques were developed to enable transition from the simulated models to the actual hardware counterparts and to allow developing models with different levels of abstraction. A stepwise model refinement approach was proposed in Schulz and Rozenblit [15] to support real-time embedded system development. In Kim et al. [16], a DEVS- based unified framework was presented for developing real-time software systems, in which logical analysis, performance evaluation, and implementation can be performed. Our work on PSBD emphasizes a systematic process that progressively transitions a design from models to system realization. We note that although the DEVS simulation environment is used in this work, the presented PSBD methodology is general and can be realized using other modeling and simulation environments.

Середовище моделювання та симуляції, яке підтримує цю роботу, базується на специфікації системи дискретних подій (DEVS) [9,10]. DEVS — це формалізм, який походить із загальної теорії динамічних систем і має чітко визначені концепції зв’язку компонентів, ієрархічної, модульної побудови моделі та об’єктно-орієнтованого субстрату, що підтримує повторне використання репозиторію. DEVS явно моделює час. Це робить зручним вивчення своєчасності, яка є важливою властивістю систем реального часу. Середовище DEVSJAVA [11] використовується в цій роботі для підтримки швидкого моделювання в реальному часі в процесі проектування. Більше інформації про формалізм DEVS можна знайти в Zeigler et al. [9]. Застосування моделювання та імітації на основі DEVS до проектування системи було досліджено в попередній роботі. Наприклад, заснований на DEVS модельний підхід для розробки вбудованих систем реального часу був представлений Вейнером та його співробітниками [12,13] для покращення якості проекту та зменшення потреби у дорогому циклі тестування. Методологія розробки гібридних апаратно-програмних систем була представлена в Glinsky and Wainer [14], де були розроблені методи, що дозволяють перехід від імітованих моделей до фактичних аналогів апаратного забезпечення та дозволяють розробляти моделі з різними рівнями абстракції. Шульц і Розенбліт [15] запропонували поетапний підхід до вдосконалення моделі для підтримки розробки вбудованих систем у реальному часі. У Kim et al. [16] було представлено уніфіковану структуру на основі DEVS для розробки програмних систем реального часу, в яких можна виконувати логічний аналіз, оцінку продуктивності та впровадження. Наша робота над PSBD наголошує на систематичному процесі, який поступово переходить від моделі до реалізації системи. Зазначимо, що хоча в цій роботі використовується середовище моделювання DEVS, представлена методологія PSBD є загальною та може бути реалізована за допомогою інших середовищ моделювання та моделювання.

[7 <--- ](7.md) [   Зміст   ](README.md) [--> 7.2](7_2.md)